<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">

<ui:composition>

	<h2>User management</h2>

	<ui:param name="allUsers" value="#{ userManagement.getAllUsers()}" />
	<p>Total number of user(s): #{ allUsers.size() }</p>

	<ui:param name="approvedUsers" value="#{ userManagement.getAllApprovedGranted() }" />
	<h3>#{ approvedUsers.size() } approved user(s)</h3>
	<ui:include src="/WEB-INF/components/admin-user-management-table.xhtml">
		<ui:param name="users" value="#{ approvedUsers }"></ui:param>
		<ui:param name="style" value="granted"></ui:param>
		<ui:param name="show_deny_option" value="#{true}"></ui:param>
	</ui:include>
		
	<ui:param name="unApprovedUsers" value="#{ userManagement.getAllApprovedPending() }" />
	<h3>#{unApprovedUsers.size() } users waiting for approval</h3>	
	<ui:include src="/WEB-INF/components/admin-user-management-table.xhtml">
		<ui:param name="users" value="#{ unApprovedUsers }"></ui:param>
		<ui:param name="style" value="pending"></ui:param>
		<ui:param name="show_deny_option" value="#{true}"></ui:param>
		<ui:param name="show_grant_option" value="#{true}"></ui:param>
	</ui:include>
	
	<ui:param name="approvedUsers" value="#{ userManagement.getAllApprovedDenied() }" />
	<h3>#{ approvedUsers.size() } denied user(s)</h3>
	<ui:include src="/WEB-INF/components/admin-user-management-table.xhtml">
		<ui:param name="users" value="#{ approvedUsers }"></ui:param>
		<ui:param name="style" value="denied"></ui:param>
		<ui:param name="show_grant_option" value="#{true}"></ui:param>
	</ui:include>
	
	
</ui:composition>

</html>
